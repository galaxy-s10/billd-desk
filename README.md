<p align="center">
  <a href="https://desk.hsslive.cn" target="_blank">
    <img
      width="200"
      src="https://github.com/galaxy-s10/billd-desk/blob/main/src/assets/img/logo.png?raw=true"
      alt="BilldDesk logo"
    />
  </a>
</p>

<h1 align="center">
  BilldDesk
</h1>

<p align="center">
 åŸºäºWebRTC + Vue3 + Electron + Nodejsæ­å»ºçš„è¿œç¨‹æ¡Œé¢
</p>

<div align="center">

![stars](https://img.shields.io/github/stars/galaxy-s10/billd-desk)
![forks](https://img.shields.io/github/forks/galaxy-s10/billd-desk)

![version](https://img.shields.io/github/package-json/v/galaxy-s10/billd-desk)
![License](https://img.shields.io/github/license/galaxy-s10/billd-desk)
![language](https://img.shields.io/github/languages/top/galaxy-s10/billd-desk)

</div>

## ğŸ“¢ çœæµ ğŸ“¢

2025 å¹´èµ·ï¼Œbilld-desk é¡¹ç›®çš„æ‰€æœ‰ä»“åº“å°†è¿›å…¥ dev çŠ¶æ€ï¼Œå¦‚æœä½ éœ€è¦è·å–çº¿ä¸Šç”Ÿäº§ç¯å¢ƒçš„ä»£ç ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š

1. è¯·èŠ±äº›æ—¶é—´æŸ¥çœ‹ä¹‹å‰æäº¤çš„ä»£ç ï¼š[https://github.com/galaxy-s10/billd-desk/commits/master/](https://github.com/galaxy-s10/billd-desk/commits/master/)ã€‚
2. è®¢é˜… [billd-project](https://github.com/billd-project)ï¼Œä»·æ ¼ï¼š[https://desk.hsslive.cn/#/price](https://desk.hsslive.cn/#/price)

å†å²åŸå› ï¼šå‚è€ƒ [billd-live çš„å†å²åŸå› ](https://github.com/galaxy-s10/billd-live?tab=readme-ov-file#-%E7%9C%81%E6%B5%81-)

## ç®€ä»‹

BilldDesk è¿œç¨‹æ¡Œé¢æ§åˆ¶ï¼Œç›®å‰å®ç°äº†ç±»ä¼¼ ToDeskã€å‘æ—¥è‘µç­‰è¿œç¨‹æ¡Œé¢çš„åŠŸèƒ½ã€‚

## ç”Ÿæ€

| åç§°                | ä»“åº“                                                                   | star & fork                                                                                                                                                                                                                                                                                                     | çº¿ä¸Šåœ°å€/ä¸‹è½½åœ°å€                                              |
| ------------------- | ---------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------- |
| è¿œç¨‹æ¡Œé¢ç½‘é¡µ/å®¢æˆ·ç«¯ | [billd-desk](https://github.com/galaxy-s10/billd-desk)                 | [![github](https://img.shields.io/github/stars/galaxy-s10/billd-desk?label=star&logo=GitHub)](https://github.com/galaxy-s10/billd-desk) [![github](https://img.shields.io/github/forks/galaxy-s10/billd-desk?label=fork&logo=GitHub)](https://github.com/galaxy-s10/billd-desk)                                 | [https://desk.hsslive.cn](https://desk.hsslive.cn)             |
| è¿œç¨‹æ¡Œé¢åå°        | [billd-desk-admin](https://github.com/galaxy-s10/billd-desk-admin)     | [![github](https://img.shields.io/github/stars/galaxy-s10/billd-desk-admin?label=star&logo=GitHub)](https://github.com/galaxy-s10/billd-desk) [![github](https://img.shields.io/github/forks/galaxy-s10/billd-desk-admin?label=fork&logo=GitHub)](https://github.com/galaxy-s10/billd-desk-admin)               | [https://desk-admin.hsslive.cn](https://desk-admin.hsslive.cn) |
| è¿œç¨‹æ¡Œé¢ç§»åŠ¨ç«¯      | [billd-desk-flutter](https://github.com/galaxy-s10/billd-desk-flutter) | [![github](https://img.shields.io/github/stars/galaxy-s10/billd-desk-flutter?label=star&logo=GitHub)](https://github.com/galaxy-s10/billd-desk-flutter) [![github](https://img.shields.io/github/forks/galaxy-s10/billd-desk-flutter?label=fork&logo=GitHub)](https://github.com/galaxy-s10/billd-desk-flutter) | TODO                                                           |
| è¿œç¨‹æ¡Œé¢æœåŠ¡ç«¯      | [billd-desk-server](https://github.com/galaxy-s10/billd-desk-server)   | [![github](https://img.shields.io/github/stars/galaxy-s10/billd-desk-server?label=star&logo=GitHub)](https://github.com/galaxy-s10/billd-desk-server) [![github](https://img.shields.io/github/forks/galaxy-s10/billd-desk-server?label=fork&logo=GitHub)](https://github.com/galaxy-s10/billd-desk-server)     | [https://desk-api.hsslive.cn](https://desk-api.hsslive.cn)     |

## åŠŸèƒ½

- [x] Web ç«¯æ§åˆ¶æ¡Œé¢å®¢æˆ·ç«¯
- [x] æ¡Œé¢å®¢æˆ·ç«¯æ§åˆ¶æ¡Œé¢å®¢æˆ·ç«¯
- [x] Web ç«¯æ§åˆ¶ Web ç«¯ï¼ˆä»…è§‚çœ‹ï¼‰
- [x] æ¡Œé¢å®¢æˆ·ç«¯æ§åˆ¶ Web ç«¯ï¼ˆä»…è§‚çœ‹ï¼‰
- [x] å¤šäººåŒæ—¶è¿œç¨‹åŒä¸€è®¾å¤‡
- [x] è¿æ¥é‰´æƒ
- [x] æ”¯æŒ Macos ç³»ç»Ÿ
- [x] æ”¯æŒ Windows ç³»ç»Ÿ
- [x] æ”¯æŒ Linux ç³»ç»Ÿï¼ˆæœªå®é™…æµ‹è¯•ï¼‰
- [x] æ–‡ä»¶ä¼ è¾“
- [x] å¼€æœºè‡ªå¯
- [x] é”å±ä¿æ´»
- [ ] ç§»åŠ¨å®¢æˆ·ç«¯ï¼ˆFlutterï¼‰
- [ ] åå°ç®¡ç†

## é¢„è§ˆ

### æ§åˆ¶ç«¯å‘èµ·è¿œç¨‹æ§åˆ¶

![https://github.com/user-attachments/assets/8e760673-49b5-48b1-b15b-29963880fa64](https://github.com/user-attachments/assets/8e760673-49b5-48b1-b15b-29963880fa64)

![https://github.com/user-attachments/assets/beb7d43c-5660-4185-96c8-2f2761a11413](https://github.com/user-attachments/assets/beb7d43c-5660-4185-96c8-2f2761a11413)

### æ§åˆ¶ç«¯æ­£åœ¨æ§åˆ¶è¢«æ§ç«¯

![https://github.com/user-attachments/assets/4cc167f5-70ac-47bc-a226-564a2f69c2f1](https://github.com/user-attachments/assets/4cc167f5-70ac-47bc-a226-564a2f69c2f1)

### è¢«æ§ç«¯

![https://github.com/user-attachments/assets/b1482a29-ca11-4ed8-b78e-49815a556bfe](https://github.com/user-attachments/assets/b1482a29-ca11-4ed8-b78e-49815a556bfe)

### æ–‡ä»¶ä¼ è¾“

![https://github.com/user-attachments/assets/fc9d5f94-e716-46ce-b17d-a39c394521a3](https://github.com/user-attachments/assets/fc9d5f94-e716-46ce-b17d-a39c394521a3)

## æ¥å£æ–‡æ¡£

æ¥å£æ–‡æ¡£ï¼š[https://apifox.com/apidoc/shared-a8ba9715-7730-432d-896c-97f983050795](https://apifox.com/apidoc/shared-a8ba9715-7730-432d-896c-97f983050795)

## æœ¬åœ°å¯åŠ¨

### billd-desk(pro)

#### å®‰è£…ä¾èµ–

> å»ºè®®ä½¿ç”¨ node ç‰ˆæœ¬ï¼šv18.19.0

```bash
pnpm i
```

> æ›´æ–° billd ç›¸å…³ä¾èµ–ï¼š

```bash
pnpm i billd-deploy@latest billd-utils@latest billd-scss@latest billd-html-webpack-plugin@latest
```

#### è¿è¡Œ

> é…ç½®æ–‡ä»¶ï¼š**`src/spec-config.ts`**ï¼Œè¯·åœ¨è¯¥æ–‡ä»¶å¡«å†™å¯¹åº”çš„ä¿¡æ¯ã€‚

```bash
npm run dev
```

#### æ‰“åŒ…

> æ‰“åŒ…æ—¶ä¼šå…ˆä½¿ç”¨[`standard-version`](https://github.com/conventional-changelog/standard-version#readme)è¿›è¡Œå‘ç‰ˆï¼Œè¯·ç¡®ä¿å½“å‰é¡¹ç›®åˆå§‹åŒ–äº†gitï¼Œå¦åˆ™æ‰“åŒ…ä¼šå¤±è´¥ã€‚

- web

> æ‰“åŒ…æˆåŠŸåï¼Œèµ„æºè¾“å‡ºåœ¨`dist`ç›®å½•

```bash
npm run build:web
```

- windowsã€macosã€linux åŒ…

> æ‰“åŒ…æˆåŠŸåï¼Œèµ„æºè¾“å‡ºåœ¨`electron-release`ç›®å½•

```bash
npm run build
```

- windows åŒ…

> æ‰“åŒ…æˆåŠŸåï¼Œèµ„æºè¾“å‡ºåœ¨`electron-release`ç›®å½•

```bash
npm run build:win
```

- macos åŒ…

> æ‰“åŒ…æˆåŠŸåï¼Œèµ„æºè¾“å‡ºåœ¨`electron-release`ç›®å½•

```bash
npm run build:mac
```

- linux åŒ…

> æ‰“åŒ…æˆåŠŸåï¼Œèµ„æºè¾“å‡ºåœ¨`electron-release`ç›®å½•

```bash
npm run build:linux
```

### billd-desk-server(pro)

#### å®‰è£…ä¾èµ–

> å»ºè®®ä½¿ç”¨ node ç‰ˆæœ¬ï¼šv18.19.0

```bash
pnpm i
```

> æ›´æ–° billd ç›¸å…³ä¾èµ–ï¼š

```bash
pnpm i billd-utils@latest billd-html-webpack-plugin@latest
```

#### è¿è¡Œ

> æœ¬åœ°å¿…é¡»è¦æœ‰ docker ç¯å¢ƒï¼
>
> é¡¹ç›®å¯åŠ¨åï¼Œä¼šåœ¨é¡¹ç›®çš„ src/secret/ç›®å½•ä¸‹ç”Ÿæˆ secret-betaã€secret-devã€secret-prod æ–‡ä»¶ï¼Œè¯·å¡«å†™é‡Œé¢çš„ä¿¡æ¯ï¼ŒMYSQL_CONFIGã€REDIS_CONFIG å¿…å¡«ï¼

1. åˆå§‹åŒ–dockerå®¹å™¨

```bash
npm run docker:dev
```

2. åˆå§‹åŒ–æ•°æ®åº“ï¼Œè¿™ä¸ªå‘½ä»¤åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ï¼Œæ‰§è¡Œåå°±ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®åº“è¡¨ã€‚

```bash
npm run mysql:dev
```

3. è¿è¡Œï¼Œé»˜è®¤è¿è¡Œåœ¨5300ç«¯å£

```bash
npm run dev
```

## æ€§èƒ½æµ‹è¯•

ä¸»è¦æµ‹è¯•å„ä¸ªç«¯ä¹‹é—´è¿œç¨‹æ—¶å€™çš„å»¶è¿Ÿã€‚

> TODO

## å¸¸è§é—®é¢˜

### åº”ç”¨å›¾æ ‡ç¼“å­˜é—®é¢˜

å¦‚æœåº”ç”¨å›¾æ ‡ä¸æ›´æ–°ï¼Œå¯ä»¥å°è¯•æ›¿æ¢ä¸€ä¸ªå›¾æ ‡å›¾ç‰‡å†æ‰“åŒ…ï¼Œæˆ–è€…ä½ ä¸å¸Œæœ›æ¢å›¾æ ‡å›¾ç‰‡çš„è¯ï¼Œå¯ä»¥å°†ç°åœ¨çš„å›¾æ ‡å›¾ç‰‡æ‹¿å»å‹ç¼©ä¸€ä¸‹ï¼Œäº²æµ‹ä¹Ÿèƒ½è§£å†³é—®é¢˜ã€‚

### rebuild

```bash
npm config set registry https://registry.npmmirror.com
```

```bash
./node_modules/.bin/electron-rebuild
```

### rebuild æ—¶ cpu-feature æŠ¥é”™

ç›´æ¥åˆ äº† node_modules çš„ cpu-feature

### pnpm å®‰è£… electron æ—¶å¡åœ¨ postinstall

1. ç›´æ¥ ctrl+c é€€å‡º npm å®‰è£…
2. è¿›å…¥ node_modules/electron/install.jsï¼Œå°†
   ```js
   downloadArtifact({
     version,
     artifactName: 'electron',
     force: process.env.force_no_cache === 'true',
     cacheRoot: process.env.electron_config_cache,
     checksums:
       (process.env.electron_use_remote_checksums ??
       process.env.npm_config_electron_use_remote_checksums)
         ? undefined
         : require('./checksums.json'),
     platform,
     arch,
   })
     .then(extractFile)
     .catch((err) => {
       console.error(err.stack);
       process.exit(1);
     });
   ```
   ä¿®æ”¹ä¸ºï¼š
   ```js
   downloadArtifact({
     version,
     artifactName: 'electron',
     force: process.env.force_no_cache === 'true',
     cacheRoot: process.env.electron_config_cache,
     checksums:
       (process.env.electron_use_remote_checksums ??
       process.env.npm_config_electron_use_remote_checksums)
         ? undefined
         : require('./checksums.json'),
     platform,
     arch,
     mirrorOptions: {
       mirror: 'https://npmmirror.com/mirrors/electron/',
       platform,
       arch,
     },
   })
     .then(extractFile)
     .catch((err) => {
       console.error(err.stack);
       process.exit(1);
     });
   ```
3. åœ¨ node_modules/electron ç›®å½•ä¸‹æ‰§è¡Œ node install

## å…¼å®¹æ€§

- [x] Windows
- [x] Macos
- [x] Linux

## è´¡çŒ®è€…

  <a href="https://github.com/galaxy-s10/billd-desk/graphs/contributors" target="_blank">
    <img
      width="200"
      src="https://contrib.rocks/image?repo=galaxy-s10/billd-desk"
      alt="BilldDesk logo"
    />
  </a>
